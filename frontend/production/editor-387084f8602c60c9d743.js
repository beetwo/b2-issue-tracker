webpackJsonp([2,5],{1225:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),l=o(s),c=n(17),f=n(185),d=o(f),p=(n(186),[{name:"tester"},{name:"admin"},{name:"user"}]),h=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStateChange=n.handleEditorStateChange.bind(n),n.state={editorState:d.default.getEmptyEditorState()},n}return i(t,e),u(t,[{key:"handleEditorStateChange",value:function(e){this.setState({editorState:e})}},{key:"render",value:function(){var e=l.default.createElement(d.default,{key:1,onStateChange:this.handleStateChange,editorState:this.state.editorState,suggestions:p}),t=l.default.createElement(d.default,{key:2,editorState:this.state.editorState,onStateChange:function(e){return console.log(e)},suggestions:p});return l.default.createElement("div",{className:"flexy"},e,t)}}]),t}(l.default.Component);(0,c.render)(l.default.createElement(h,null),document.getElementById("main"))},185:function(e,t,n){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(330),l=o(s),c=n(186),f=o(c),d=n(328),p=o(d),h=n(0),g=o(h),m=n(35),b=n(7);n(458),n(286),n(457);var y=n(103),S=(o(y),n(262)),v=o(S),E=(0,f.default)({entityMutability:"IMMUTABLE",mentionPrefix:"@"}),_=(0,p.default)(),w=E.MentionSuggestions,x=[E,_],C=function(t){function n(e){r(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),o=t.props.mention_suggestions.map(function(e){return{name:e}});return t.state={mentions:(0,b.fromJS)(o),suggestions:(0,b.fromJS)([])},t.minLengthSearch=e.minLengthSearch||3,t.editor=null,t.focus=t.focus.bind(t),t.onSearchChange=t.onSearchChange.bind(t),t}return i(n,t),u(n,[{key:"focus",value:function(){this.editor.focus()}},{key:"onSearchChange",value:function(t){var n=this,o=t.value;if(0===o.length)this.setState({suggestions:this.state.mentions});else if(o.length<this.minLengthSearch)this.setState({suggestions:(0,c.defaultSuggestionsFilter)(o,this.state.mentions)});else if(o.length>=this.minLengthSearch){var r="/api/mentions/?search="+encodeURIComponent(o);e(r,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){var t=(0,v.default)(e.map(function(e){return e.slug})),o=t.map(function(e){return{name:e}});n.setState({suggestions:(0,b.fromJS)(o)})})}}},{key:"render",value:function(){var e=this;return g.default.createElement("div",{className:"b2editor",onClick:this.focus},g.default.createElement(l.default,{editorState:this.props.editorState,onChange:this.props.onStateChange,plugins:x,ref:function(t){return e.editor=t}}),g.default.createElement(w,{onSearchChange:this.onSearchChange,suggestions:this.state.suggestions}))}}],[{key:"getEmptyEditorState",value:function(){return m.EditorState.createEmpty()}}]),n}(g.default.Component);C.propTypes={editorState:h.PropTypes.object,onStateChange:h.PropTypes.func,mention_suggestions:h.PropTypes.array.isRequired},t.default=C}).call(t,n(238))},218:function(e,t,n){t=e.exports=n(42)(),t.push([e.i,".b2editor{box-sizing:border-box;border:1px solid #ddd;cursor:text;padding:16px;border-radius:2px;box-shadow:inset 0 1px 8px -3px #ababab;background:#fefefe}.b2editor .public-DraftEditor-content{min-height:100px}.image-upload{max-width:5em;margin:.3em;text-overflow:ellipsis}.image-upload img{max-width:100%}.gallery img{max-width:5em;padding:.2em}",""])},286:function(e,t,n){var o=n(218);"string"==typeof o&&(o=[[e.i,o,""]]);n(45)(o,{});o.locals&&(e.exports=o.locals)}},[1225]);